<% @meta_title = "Open Source Science" %>
<% @meta_description = "Discover and explore scientific open source software projects. Browse #{@stats[:total_projects] if @stats} analyzed projects including JOSS papers, research software, and computational tools." %>
<div class="generic-home__hero generic-home__hero--left mt-5">
  <div class="container">
    <div class="row">
      <div class="col py-5">
        <h1 class="display-1 mb-3">Open Source in Research</h1>
        <h2 class="lead mb-4">Uncovering the software underpinning scientific research</h2>
      </div>
    </div>
  </div>
</div>
<div class="container mt-4">
  <% if @stats.present? %>
    <h2>Our data</h2>
    <%= render 'stats', stats: @stats %>
  <% end %>

    <ul class="nav nav-tabs my-3">
      <li class="nav-item">
        <h2>Projects</h2>
      </li>
      <li class="nav-item ms-auto">
        <div class="dropdown">
          <button class="btn btn-light dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
            Sort
          </button>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item <%= 'active' if params[:sort] == 'last_synced_at' %>" href="<%= url_for(sort: 'last_synced_at', order: 'desc') %>">Recently synced</a></li>
            <li><a class="dropdown-item <%= 'active' if params[:sort] == 'score' %>" href="<%= url_for(sort: 'score', order: 'desc') %>">Ranking</a></li>
            <li><a class="dropdown-item <%= 'active' if params[:sort] == 'science_score' %>" href="<%= url_for(sort: 'science_score', order: 'desc') %>">Science Score</a></li>
          </ul>
        </div>
      </li>
    </ul>

  <%= render @projects %>
  <%== pagy_bootstrap_nav(@pagy) if @pagy.pages > 1 %>  
</div>