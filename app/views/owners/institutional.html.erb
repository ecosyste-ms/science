<% @meta_title = "Institutional Owners" %>
<% @meta_description = "Browse scientific software projects from academic institutions, research organizations, and government agencies. Explore university labs, national research centers, and educational institutions." %>

<div class="container-sm">
  <h1 class='mb-4'>Institutional Owners</h1>

  <p class="lead text-muted mb-4">
    Organizations with institutional domains (.edu, .gov, research institutions, etc.)
  </p>

  <div>
    <% @owners.each do |owner| %>
      <div class="card mb-4 pb-4 listing d-flex flex-row align-items-start">
        <div class="flex-shrink-0 mt-1 ms-3 me-3">
          <img src="<%= owner.icon_url %>" class="rounded" height="56" width="56" onerror="this.style.display='none'">
        </div>

        <div class="card-body p-0">
          <h3 class="card-title listing__title mt-3">
            <%= link_to host_owner_path(owner.host.name, owner.login) do %>
              <%= owner.name.present? ? owner.name : owner.login %>
              <span class="listing__meta">
                <% if owner.website.present? %>
                  â€¢ <%= owner.extract_domain(owner.website) %>
                <% end %>
              </span>
            <% end %>
          </h3>

          <% if owner.description.present? %>
            <p class="text-muted mt-2 mb-0 small"><%= truncate(owner.description, length: 200) %></p>
          <% end %>

          <div class="mt-3 listing__details">
            <div class="d-flex align-items-start flex-wrap">
              <div class="d-flex align-items-start me-4 mb-2">
                <span class="text-muted">
                  <%= number_with_delimiter(owner.projects_count) %> projects
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>

  <%== pagy_bootstrap_nav(@pagy) if @pagy.pages > 1 %>
</div>
